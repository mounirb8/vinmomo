<Window x:Class="vinmomo.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        Title="Annuaire d'entreprise"
        Height="650" Width="1100"
        KeyDown="Window_KeyDown">

    <Grid Margin="10">

        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- =======================  FILTRES ======================== -->
        <StackPanel Orientation="Horizontal" Grid.Row="0" Margin="0 0 0 10">

            <TextBlock Text="Rechercher :" VerticalAlignment="Center"/>
            <TextBox Width="200" Margin="5 0"
                     Text="{Binding SearchText, UpdateSourceTrigger=PropertyChanged}"/>

            <TextBlock Text="Site :" Margin="20 0 0 0" VerticalAlignment="Center"/>
            <ComboBox Width="150" Margin="5 0"
                      ItemsSource="{Binding Sites}"
                      SelectedItem="{Binding SelectedSite}"
                      DisplayMemberPath="Ville"/>

            <TextBlock Text="Service :" Margin="20 0 0 0" VerticalAlignment="Center"/>
            <ComboBox Width="150" Margin="5 0"
                      ItemsSource="{Binding Services}"
                      SelectedItem="{Binding SelectedService}"
                      DisplayMemberPath="Nom"/>
        </StackPanel>

        <!-- =======================  TABLEAU SALARIÉS ======================== -->
        <DataGrid x:Name="DataGridSalaries"
                  Grid.Row="1"
                  ItemsSource="{Binding SalariesView}"
                  SelectedItem="{Binding SelectedSalarie, Mode=TwoWay}"
                  AutoGenerateColumns="False"
                  IsReadOnly="True"
                  Height="400"
                  Margin="0 0 10 10">

            <DataGrid.Columns>
                <DataGridTextColumn Header="Nom" Binding="{Binding Nom}"/>
                <DataGridTextColumn Header="Prénom" Binding="{Binding Prenom}"/>
                <DataGridTextColumn Header="Service" Binding="{Binding Service.Nom}"/>
                <DataGridTextColumn Header="Site" Binding="{Binding Site.Ville}"/>
            </DataGrid.Columns>

        </DataGrid>

        <!-- =======================  FICHE SALARIÉ ======================== -->
        <GroupBox Header="Fiche salarié"
                  Grid.Row="2"
                  Margin="0 0 10 10">
            <Grid Margin="10">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <TextBlock Grid.Row="0" Grid.Column="0" Margin="0 2" Text="Nom :" FontWeight="Bold"/>
                <TextBlock Grid.Row="0" Grid.Column="1" Margin="5 2" Text="{Binding SelectedSalarie.Nom}"/>

                <TextBlock Grid.Row="1" Grid.Column="0" Margin="0 2" Text="Prénom :" FontWeight="Bold"/>
                <TextBlock Grid.Row="1" Grid.Column="1" Margin="5 2" Text="{Binding SelectedSalarie.Prenom}"/>

                <TextBlock Grid.Row="2" Grid.Column="0" Margin="0 2" Text="Téléphone fixe :" FontWeight="Bold"/>
                <TextBlock Grid.Row="2" Grid.Column="1" Margin="5 2" Text="{Binding SelectedSalarie.TelephoneFixe}"/>

                <TextBlock Grid.Row="3" Grid.Column="0" Margin="0 2" Text="Téléphone portable :" FontWeight="Bold"/>
                <TextBlock Grid.Row="3" Grid.Column="1" Margin="5 2" Text="{Binding SelectedSalarie.TelephonePortable}"/>

                <TextBlock Grid.Row="4" Grid.Column="0" Margin="0 2" Text="Email :" FontWeight="Bold"/>
                <TextBlock Grid.Row="4" Grid.Column="1" Margin="5 2" Text="{Binding SelectedSalarie.Email}"/>

                <TextBlock Grid.Row="5" Grid.Column="0" Margin="0 2" Text="Service :" FontWeight="Bold"/>
                <TextBlock Grid.Row="5" Grid.Column="1" Margin="5 2" Text="{Binding SelectedSalarie.Service.Nom}"/>

                <TextBlock Grid.Row="6" Grid.Column="0" Margin="0 2" Text="Site :" FontWeight="Bold"/>
                <TextBlock Grid.Row="6" Grid.Column="1" Margin="5 2" Text="{Binding SelectedSalarie.Site.Ville}"/>
            </Grid>
        </GroupBox>

        <!-- =======================  BOUTONS ADMIN ======================== -->
        <StackPanel Orientation="Horizontal"
                    Grid.Row="3"
                    Margin="0 10 0 0"
                    HorizontalAlignment="Left">

            <Button x:Name="BtnAdd"
                    Content="Ajouter"
                    Width="100"
                    Margin="0 0 10 0"
                    Visibility="Collapsed"
                    Click="BtnAdd_Click"/>

            <Button x:Name="BtnEdit"
                    Content="Modifier"
                    Width="100"
                    Margin="0 0 10 0"
                    Visibility="Collapsed"
                    Click="BtnEdit_Click"/>

            <Button x:Name="BtnDelete"
                    Content="Supprimer"
                    Width="100"
                    Margin="0 0 10 0"
                    Visibility="Collapsed"
                    Click="BtnDelete_Click"/>

            <!-- nouveaux boutons admin -->
            <Button x:Name="BtnManageSites"
                    Content="Gérer sites"
                    Width="120"
                    Margin="0 0 10 0"
                    Visibility="Collapsed"
                    Click="BtnManageSites_Click"/>

            <Button x:Name="BtnManageServices"
                    Content="Gérer services"
                    Width="140"
                    Margin="0 0 10 0"
                    Visibility="Collapsed"
                    Click="BtnManageServices_Click"/>

            <Button x:Name="BtnExitAdmin"
                    Content="Quitter mode admin"
                    Width="160"
                    Visibility="Collapsed"
                    Click="BtnExitAdmin_Click"/>

        </StackPanel>

    </Grid>
</Window>
